---
layout: post
title: Expected Points Generated
permalink: /epg/
---

I have yet to find a good statistic to represent a soccer player's value to their team. Soccer has no parallel to baseball's Wins above Replacement (WAR) stat, which makes sense when you consider all the minute actions within a soccer game that make it hard to distill the ability and production of a player into a single number using a few key discrete metrics. [Expected Goals](http://www.americansocceranalysis.com/explanation/) is a good predictor of success, but only shows the expected scoring for a player, not how their performance contributes to their team's performance.

With this in mind, I propose a different statistic: Expected Points Generated (EPG). EPG isn't a new concept; other outlets have created [Expected Points](http://www.americansocceranalysis.com/home/2016/6/19/goodbye-expected-goals-hello-expected-points). I have neither the extensive data models nor the statistics knowledge needed to back this idea with historical data and proven statistic distributions, so I decided to combine a few different soccer analytics resources in order to produce my own representation of player value. This formula isn't perfect, but I think it gives a good representation of how much of an effect a player has on a team's performance.

### Resources

* [Outcome probabilities from American Soccer Analysis](http://www.americansocceranalysis.com/win-expectancy-1/)

* [Player Expected Goals from American Soccer Analysis](http://www.americansocceranalysis.com/player-xg-2017/)

* [Successful Passes by Player from WhoScored](https://www.whoscored.com/Teams/26666/Show/USA-Atlanta-United)


### Methodology

First, calculate PCxG, the player's contribution to their team's expected offense every game:

<p style="text-align: center">
$$ \mathsf{PxG} = \text{xGoals & xAssists} $$
$$ \mathsf{TxG} = \text{Team xGoals For} $$
$$ \mathsf{PSPxG} = \text{Player Successful Passes %} $$
$$ \mathsf{PPxG} = \text{Player Passes per Game} $$
$$ \mathsf{TSPxG} = \text{Team Successful Passes per Game} $$
$$ \mathsf{PCxG = } \frac{PxG}{TxG} + \frac{(\frac{PSPxG}{100}) \times PPxG} {TSPxG} $$
</p>

Now that you have the player's PCxG, you can use the MLS match outcome probabilities generated by ASA...

<p style="text-align: center">
$$ \mathsf{ProbWin = 0.483} $$
$$ \mathsf{ProbDraw = 0.281} $$
</p>

...to create the formula below:

<p style="text-align: center">
$$ \mathsf{EPG} = [(3 \times \mathsf{ProbWin}) + (1 \times \mathsf{ProbDraw})] \times \mathsf{PCxG} $$
</p>

### Examples

We can use this formula to calculate EPG for a given player, like Sebastian Giovinco (F, Toronto FC):

<p style="text-align:center">
$$ \mathsf{PxG} = 0.63 $$
$$ \mathsf{TxG} = 1.24 $$
$$ \mathsf{PSPxG} = 67.2% $$
$$ \mathsf{PPxG} = 25.1 $$
$$ \mathsf{TSPxG} = 503.8651 $$
$$ \mathsf{PCxG} = \frac{0.63}{1.24} + \frac{(\frac{67.2}{100}) \times 25.1} {503.8651} $$
$$ \mathsf{EPG} = [(3 \times 0.483) + (1 \times 0.281)] \times 0.54154014 = 0.93686445 $$
</p>

Therefore, we can expect Giovinco to contribute 0.93697961 of a point to Toronto FC's place in the table every time he plays.

What about Darlington Nagbe (M/F, Portland Timbers)?

<p style="text-align:center">
$$ \mathsf{PxG} = 0.25 $$
$$ \mathsf{TxG} = 1.49 $$
$$ \mathsf{PSPxG} = 89.0% $$
$$ \mathsf{PPxG} = 43.3 $$
$$ \mathsf{TSPxG} = 474.4951 $$
$$ \mathsf{PCxG} = \frac{0.25}{1.49} + \frac{(\frac{89.0}{100}) \times 43.3} {474.4951} $$
$$ \mathsf{EPG} = [(3 \times 0.483) + (1 \times 0.281)] \times 0.24900209 = 0.43077362 $$
</p>

Nagbe produces 0.43077362 of a point every time he steps on to the field in a Timbers uniform. This seems low, but while Nagbe creates chances for the Timbers, he rarely finishes them, instead relying on strikers Diego Valeri and Fanendo Adi to put the ball in the back of the net. ~~Since EPG relies heavily on Expected Goals, we don't necessarily see how Nagbe's passing and possession ability contribute to Portland's success.~~ After adding successful passes to the formula, we can see how Nagbe's passing and possession ability contribute to Portland's success, tacking on about 0.14 EPG to his total.

### Conclusion

Like I said before, EPG isn't perfect. It's likely that many other cases like Nagbe's exist, their contributions to their team underrepresented by their EPG rating. In the future, I hope to back this formula with hard data and make adjustments that reveal how non-scoring contributions affect a team's performance, turning EPG into the soccer equivalent of WAR and a good estimator of a player's value to their team.

<p class="small">Version 1.1 - Updated 5/13/2017.</p>

<p class="small">Data provided by <a href="https://whoscored.com">WhoScored</a> and <a href="https://americansocceranalysis.com">American Soccer Analysis</a>. Thanks to them for being very transparent in how their stats are constructed and for providing advanced stats to the public for free.</p>
